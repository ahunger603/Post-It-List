@model IEnumerable<PostItList.Models.ToDoItem>
@{
    ViewData["Title"] = "List";
}
<h2>@ViewData["Title"].</h2>
<h3>@ViewData["Message"]</h3>

<p>Use this area to provide additional information.</p>
@foreach (var item in Model)
{
    <p>@item.Title</p>

}

<div class="container">
    <div class="row">
        <div class="col-lg-12">
            <div class="input-group">
                <span class="input-group-addon" id="basic-addon1"><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span></span>
                <input type="text" class="form-control post-input" placeholder="Enter Post-It-List item" aria-describedby="basic-addon1">
                <button type="button" class="btn btn-default post-button" aria-label="Left Align">
                    <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
                </button>
            </div>
        </div>
    </div>
</div>

@section Scripts {
    <script>

        //attach listener for enter/button click

        //button click
        $(document).ready(function () {

            function addItem() {
                var title = $('.post-input').val();
                $.post({
                    url: 'AddToDo',
                    success: function () {
                        console.log("Javascript addtodo success");
                    },
                    error: function () {
                        console.log("Javascript addtodo success");
                    },
                    dataType: 'application/json',
                    data: title
                 })
            }

            $('.post-button').click(addItem);

            //credit to Paolo Bergantino https://stackoverflow.com/questions/979662/how-to-detect-pressing-enter-on-keyboard-using-jquery
            $('.post-input').keypress(function (e) {
                if (e.which == 13) {
                    addItem();
                }
            });
        });
    </script>
}